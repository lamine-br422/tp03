@startuml
hide circle
skinparam classAttributeIconSize 0

' ========= Interfaces (ISP) =========
interface Payable <<interface>> {
  +process_payment() : void
}
interface Organizable <<interface>> {
  +schedule() : void
}
interface Registrable <<interface>> {
  +register_member(m:Member) : void
}

' ========= Base =========
class Member {
  - full_name : String
  - email : String
  - phone : String
  - address : String
  - join_date : Date
  - skills : List<String>
  - interests : List<String>
  --
  + display() : String
  + add_skill(skill:String) : void
  + add_interest(interest:String) : void
  + update_contact(email, phone, address) : void
}

' ========= HÃ©ritage =========
class Student {
  - student_id : int
  - subscription_status : String <<Paid/Pending>>
  --
  + display() : String
  + check_subscription() : String
}
class Teacher {
  - teacher_id : int
  --
  + display() : String
  + display_group() : String
  + assign_event(event:Event) : void
  + assign_group(student:Student) : void
}
Member <|-- Student
Member <|-- Teacher

' ========= Event (base + OCP) =========
class Event {
  - event_name : String
  - description : String
  - event_date : Date
  - organizers : List<Teacher>
  - participants : List<Student>
  --
  + display() : String
  + add_participant(s:Student) : void
  + remove_participant(s:Student) : void
  + schedule() : void
}
Event ..|> Organizable

class Trip {
  - type : String
  --
  + display() : String
}
class Meeting {
  - topic : String
  --
  + display() : String
}
class Competition {
  - level : String
  --
  + display() : String
  + register_member(m:Member) : void
}
Trip        --|> Event
Meeting     --|> Event
Competition --|> Event
Competition ..|> Registrable

' ========= Subscription (base + OCP) =========
class Subscription {
  - student_id : int
  - amount : float
  - date : Date
  - status : String <<paid/unpaid>>
  --
  + display() : String
  + mark_paid() : void
  + mark_unpaid() : void
  + process_payment() : void
}
Subscription ..|> Payable

class MonthlySubscription {
  - period : String
  --
  + process_payment() : void
}
class AnnualSubscription {
  - period : String
  --
  + process_payment() : void
}
MonthlySubscription --|> Subscription
AnnualSubscription  --|> Subscription

' ========= Donation (SRP/ISP) =========
class Donation {
  - donor_name : String
  - amount : float
  - date : Date
  --
  + process_payment() : void
}
Donation ..|> Payable

' ========= Relations =========
Student "1" -- "0..*" Subscription : has >
Student "0..*" -- "0..*" Event : participates >
Teacher "1..*" -- "0..*" Event : organizes >
Member  "0..*" -- "0..*" Donation : donate >

@enduml
